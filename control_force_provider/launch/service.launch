<?xml version="1.0"?>
<launch>
    <arg name="config" default="$(find control_force_provider)/default.config"/>
    <arg name="mode" default="2"/>
    <arg name="goal" default="0.3 0.0 0.3"/>
    <param name="control_force_provider/config" value="$(arg config)" type="str"/>
    <node pkg="rviz" type="rviz" output="screen" name="rviz"
          args="-d $(find control_force_provider)/launch/rviz/description.rviz" if="$(eval arg('mode') == 1)"/>
    <node pkg="control_force_provider"
          type="service"
          name="control_force_provider"
          args="--mode $(arg mode)"
          respawn="false" output="screen"/>
    <node pkg="rostopic" type="rostopic" name="rostopic" args="pub /control_force_provider/goal geometry_msgs/Point -- $(arg goal)"/>
    <node pkg="control_force_provider"
          type="rl_training"
          name="rl_training"
          respawn="false" output="screen"/>
</launch>